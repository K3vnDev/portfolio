---
import { TECHNOLOGIES as T } from '@/consts.d'
import type { Project } from '@/types.d'
import Button from '@components/projects/Button.astro'
import Images from '@components/projects/Images.astro'
import TechnologyBadge from '@components/projects/TechnologyBadge.astro'
import GithubIcon from '@icons/Github.astro'
import PreviewIcon from '@icons/Preview.astro'

const projects: Project[] = [
  {
    name: 'Quizzie',
    desc: 'Easy-to-use quiz maker. Create your own quizzes and share them with others. You can also have fun playing existing ones, the answer is yours!',
    big: true,
    tecnologies: [T.REACT, T.NODE, T.MONGODB],
    code: 'https://github.com/K3vnDev/quizzie',
    preview: 'https://quizzie-wb.netlify.app'
  },
  {
    name: 'IP Geolocation',
    desc: 'A website that tracks your IP address and displays it for you. It also includes a map and information about your estimated location.',
    big: false,
    tecnologies: [T.REACT, T.LEAFLET],
    code: 'https://github.com/K3vnDev/ip-geolocation',
    preview: 'https://ip-geolocation-kevdev.netlify.app'
  },
  {
    name: 'URL Shortener',
    desc: 'Shorten long and annoying URLs easily. Save your favorite websites on the dashboard and access their shortened links anytime.',
    big: false,
    tecnologies: [T.REACT, T.NODE, T.MONGODB],
    code: 'https://github.com/K3vnDev/u-sh',
    preview: 'https://url-shortener-ljsf.onrender.com'
  },
  {
    name: 'Timeline Creator',
    desc: 'Creating timelines has never been easier. Make and view as many timelines as you want with this simple yet versatile website.',
    big: true,
    tecnologies: [T.REACT, T.TYPESCRIPT],
    code: 'https://github.com/K3vnDev/timeline-creator',
    preview: 'https://timeline-creator.netlify.app'
  }
]
---

<div
  class={`
    xl:grid [grid-template-columns:5fr_1fr_5fr] 
    flex flex-col gap-9 items-start
  `}
>
  {
    projects.map(({ name, desc, code, preview, big, tecnologies }) => (
      <article
        id='project'
        class={`
          xl:bg-[#222] flex relative overflow-hidden
          first:col-span-2 last:col-span-2 rounded-xl xl:border-2 xl:border-[#444] 
          xl:flex-row md:flex-row-reverse flex-col-reverse 
          xl:p-12 p-3 xl:min-h-[19.375rem] xl:gap-0 md:gap-8 gap-4
        `}
      >
        <div
          class={`
            flex flex-col sm:h-full justify-between gap-3 
            xl:min-w-0 md:min-w-72 md:max-w-96 xl:w-64 md:gap-5 xl:p-0 md:py-6
          `}
        >
          <section class='flex flex-col md:gap-3 xl:gap-2 gap-2'>
            <div class='flex md:flex-col xl:gap-2 md:gap-3 gap-x-4 gap-y-2 flex-wrap'>
              <span class='text-2xl font-bold text-white text-nowrap'>
                {name}
              </span>
              <ul class='flex gap-1 flex-nowrap'>
                {tecnologies.map(tecnology => (
                  <TechnologyBadge {...tecnology} />
                ))}
              </ul>
            </div>
            <p class='text-sm text-pretty font-normal text-gray-300'>{desc}</p>
          </section>

          <section class='flex gap-2'>
            <Button
              href={code}
              projectName={name}
              label='Code'
              icon={GithubIcon}
            />
            <Button
              href={preview}
              projectName={name}
              label='Preview'
              icon={PreviewIcon}
            />
          </section>
        </div>

        <Images
          name={name}
          big={big}
          projectUrl={preview}
        />
      </article>
    ))
  }
</div>

<style>
  @media (max-width: 1279px) {
    #project {
      &:nth-child(1) {
        order: 1;
      }
      &:nth-child(2) {
        order: 3;
      }
      &:nth-child(3) {
        order: 4;
      }
      &:nth-child(4) {
        order: 2;
      }
    }
  }
</style>
