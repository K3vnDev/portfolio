---
import { TECHNOLOGIES as T } from '@/consts.d'
import type { Project } from '@/types.d'
import Button from '@components/projects/Button.astro'
import TechnologyBadge from '@components/projects/TechnologyBadge.astro'
import Code from '@icons/Code.astro'
import Preview from '@icons/Preview.astro'

const projects: Project[] = [
  {
    name: 'Quizzie',
    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
    images: [
      './public/projects/quizzie1.png',
      './public/projects/quizzie2.png'
    ],
    tecnologies: [T.REACT, T.NODE, T.MONGODB],
    code: '',
    preview: ''
  },
  {
    name: 'IP Geolocation',
    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
    images: ['./public/projects/ip-geolocation.png'],
    tecnologies: [T.REACT, T.LEAFLET],
    code: '',
    preview: ''
  },
  {
    name: 'URL Shortener',
    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
    images: ['./public/projects/ip-geolocation.png'],
    tecnologies: [T.REACT, T.NODE, T.MONGODB],
    code: '',
    preview: ''
  },
  {
    name: 'Timeline Creator',
    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
    images: [
      './public/projects/ip-geolocation.png',
      './public/projects/ip-geolocation.png'
    ],
    tecnologies: [T.REACT, T.TYPESCRIPT],
    code: '',
    preview: ''
  }
]
---

<div class='grid [grid-template-columns:5fr_1fr_5fr] gap-9'>
  {
    projects.map(({ name, desc, code, preview, images, tecnologies }) => {
      const [image1, image2] = images

      return (
        <article
          class={`h-[310px] bg-[#222] relative first:col-span-2 last:col-span-2 rounded-xl border border-[#444] p-12`}
        >
          <div class='w-[250px] flex flex-col h-full justify-between'>
            <section class='flex flex-col gap-2'>
              <h5 class='text-2xl font-bold text-white'>{name}</h5>
              <ul class='flex gap-1 flex-wrap'>
                {tecnologies.map(tecnology => (
                  <TechnologyBadge {...tecnology} />
                ))}
              </ul>
              <p class='text-sm text-pretty font-normal  text-gray-300'>
                {desc}
              </p>
            </section>

            <section class='flex gap-2'>
              <Button href={code}>
                <Code />
                Code
              </Button>
              <Button href={preview}>
                <Preview />
                Preview
              </Button>
            </section>
          </div>

          {image2 ? (
            <>
              <img
                src={image1}
                alt=''
                class='image right-[75px] bottom-[60px] w-[250px] h-[200px] rounded-xl'
              />
              <img
                src={image2}
                alt=''
                class='image w-[240px] h-[200px] aligned-rb'
              />
            </>
          ) : (
            <img
              src={image1}
              alt=''
              class='image w-[190px] h-[260px] aligned-rb'
            />
          )}
        </article>
      )
    })
  }
</div>

<style>
  .image {
    @apply absolute object-cover outline outline-1 outline-[#333];
  }
  .aligned-rb {
    @apply right-0 bottom-0 rounded-tl-xl rounded-br-xl;
  }
</style>
